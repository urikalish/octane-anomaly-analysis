'use strict';
const settings = {
	updateAlmOctane: false,
	defectsRetrievalLimit: 5000,
	storiesRetrievalLimit: 5000,
	historyLogs: {
		manualTimeRange: false,
		manualTimeRangeFrom: '2018-01-01T00:00:00Z',
		manualTimeRangeTo: '2030-01-01T00:00:00Z',
	},
	updateAlmOctaneMaxBatch: 100,
	generalAnomalyTag: 'Anomaly',
	specificAnomalyTagPrefix: 'Anomaly: ',
	ignoreAnomalyTag: 'Ignore Anomaly',
	checkers: [
		{
			name: 'story-stuck-dev-phase',
			enabled: true,
			tag: 'Anomaly: Stuck in DEV Phase',
			entity: 'story',
			options: {
				phasesToIgnore: [
					'Cancelled',
					'Ready for QA',
					'In Testing',
					'Done',
				],
				phasesMaxDays: {
					'New': 600,
					'Ready for R&D': 60,
					'In Progress': 30,
					'Fixing Defects': 30,
					'_DEFAULT': 30, //every other non-specified phase
				}
			}
		},
		{
			name: 'story-stuck-qa-phase',
			enabled: true,
			tag: 'Anomaly: Stuck in QA Phase',
			entity: 'story',
			options: {
				phasesToIgnore: [
					'New',
					'Cancelled',
					'Ready for R&D',
					'In Progress',
					'Fixing Defects',
					'Done',
				],
				phasesMaxDays: {
					'Ready for QA': 30,
					'In Testing': 30,
					'_DEFAULT': 30 //every other non-specified phase
				}
			}
		},
		{
			name: 'defect-inactive-dev-owner',
			enabled: true,
			tag: 'Anomaly: Inactive DEV Owner',
			entity: 'defect',
			options: {
				phasesToIgnore: [
					'Closed',
					'Duplicate',
					'Rejected',
					'Deferred',
					'Fixed'
				]
			}
		},
		{
			name: 'defect-inactive-qa-owner',
			enabled: true,
			tag: 'Anomaly: Inactive QA Owner',
			entity: 'defect',
			options: {
				phasesToIgnore: [
					'Closed',
					'Duplicate',
					'Rejected',
					'Deferred'
				]
			}
		},
		{
			name: 'defect-large-attachments',
			enabled: false,
			tag: 'Anomaly: Large Attachments',
			entity: 'defect',
			options: {
				phasesToIgnore: [
					'Closed',
					'Duplicate',
					'Rejected',
					'Deferred'
				],
				fileExtensionsToIgnoreRegex: /(.png|.jpg)$/,
				attachmentsLargeSizeMB: 10
			}
		},
		{
			name: 'defect-many-comments',
			enabled: true,
			tag: 'Anomaly: Many Comments',
			entity: 'defect',
			options: {
				phasesToIgnore: [
					'Closed',
					'Duplicate',
					'Rejected',
					'Deferred',
					'Fixed'
				],
				defectTypesToIgnore: [
					'list_node_defect_type_cpe_incident_ln'
				],
				manyCommentsCount: 9
			}
		},
		{
			name: 'defect-many-owners',
			enabled: true,
			tag: 'Anomaly: Many Owners',
			entity: 'defect',
			options: {
				phasesToIgnore: [
					'Closed',
					'Duplicate',
					'Rejected',
					'Deferred',
					'Fixed'
				],
				manyOwnersCount: 5
			}
		},
		{
			name: 'defect-stuck-dev-phase',
			enabled: true,
			tag: 'Anomaly: Stuck in DEV Phase',
			entity: 'defect',
			options: {
				phasesToIgnore: [
					'Closed',
					'Duplicate',
					'Rejected',
					'Deferred',
					'Rejected',
					'Fixed',
				],
				phasesMaxDays: {
					'list_node.severity.urgent': {
						'New': 1,
						'Opened': 3,
						'_DEFAULT': 3 //every other non-specified phase
					},
					'list_node.severity.very_high': {
						'New': 7,
						'Opened': 7,
						'_DEFAULT': 7 //every other non-specified phase
					},
					'list_node.severity.high': {
						'New': 30,
						'Opened': 7,
						'_DEFAULT': 30 //every other non-specified phase
					},
					'list_node.severity.medium': {
						'New': 99,
						'Opened': 99,
						'_DEFAULT': 99 //every other non-specified phase
					},
					'list_node.severity.low': {
						'New': 99,
						'Opened': 99,
						'_DEFAULT': 99 //every other non-specified phase
					},
					'_DEFAULT': { //every other non-specified severity
						'_DEFAULT': 30 //every other non-specified phase
					}
				}
			}
		},
		{
			name: 'defect-stuck-qa-phase',
			enabled: true,
			tag: 'Anomaly: Stuck in QA Phase',
			entity: 'defect',
			options: {
				phasesToIgnore: [
					'Closed',
					'Duplicate',
					'Rejected',
					'Deferred',
					'New',
					'Opened'
				],
				phasesMaxDays: {
					'list_node.severity.urgent': {
						'Fixed': 3,
						'Rejected': 3,
						'_DEFAULT': 3 //every other non-specified phase
					},
					'list_node.severity.very_high': {
						'Fixed': 7,
						'Rejected': 7,
						'_DEFAULT': 7 //every other non-specified phase
					},
					'list_node.severity.high': {
						'Fixed': 7,
						'Rejected': 7,
						'_DEFAULT': 30 //every other non-specified phase
					},
					'list_node.severity.medium': {
						'Fixed': 7,
						'Rejected': 7,
						'_DEFAULT': 99 //every other non-specified phase
					},
					'list_node.severity.low': {
						'Fixed': 7,
						'Rejected': 7,
						'_DEFAULT': 99 //every other non-specified phase
					},
					'_DEFAULT': { //every other non-specified severity
						'_DEFAULT': 30 //every other non-specified phase
					}
				}
			}
		},
		{
			name: 'defect-unusual-dev-owner',
			enabled: true,
			tag: 'Anomaly: Unusual DEV Owner',
			entity: 'defect',
			options: {
				phasesToIgnore: [
					'Closed',
					'Duplicate',
					'Rejected',
					'Deferred',
					'Fixed'
				],
				dataSetSizes: [1000, 2000, 3000, 4000, 5000]
			}
		},
		{
			name: 'defect-unusual-qa-owner',
			enabled: true,
			tag: 'Anomaly: Unusual QA Owner',
			entity: 'defect',
			options: {
				phasesToIgnore: [
					'Closed',
					'Duplicate',
					'Rejected',
					'Deferred'
				],
				dataSetSizes: [1000, 2000, 3000, 4000, 5000]
			}
		},
		{
			name: 'defect-my-rule',
			enabled: false,
			tag: 'Anomaly: My Rule',
			entity: 'defect',
			options: {
				phasesToIgnore: [
					'Closed',
					'Duplicate',
					'Rejected',
					'Deferred'
				]
			}
		},
	]
};

module.exports = settings;
